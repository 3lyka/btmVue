{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"lot-detail__sale\"\n};\nconst _hoisted_2 = {\n  class: \"lot-detail__sale-description\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"lot-detail__sale-description-balance\"\n}, \"Остаток\", -1);\n\nconst _hoisted_4 = {\n  class: \"lot-detail__sale-description-count-weight\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"lot-detail__sale-button-wrap\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_LotSaleButton = _resolveComponent(\"LotSaleButton\");\n\n  return $options.isShowUnsoldBalance && $options.unsoldBalance !== 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", {\n    class: _normalizeClass($props.status.code === 'completed' || $props.status.code === 'cancelled' ? 'lot-detail__sale-wrap' : '')\n  }, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, _toDisplayString($options.prettify($options.unsoldBalance)) + \" т \", 1)]), $options.isShowSaleButton ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createVNode(_component_LotSaleButton, {\n    unsoldBalance: $options.unsoldBalance,\n    lot: _ctx.lot\n  }, null, 8, [\"unsoldBalance\", \"lot\"])])) : _createCommentVNode(\"\", true)], 2)])) : _createCommentVNode(\"\", true);\n}","map":{"version":3,"mappings":";;;EAGIA,KAAK,EAAC;;;EASCA,KAAK,EAAC;;;gCACTC,oBAA+D,KAA/D,EAA+D;EAA1DD,KAAK,EAAC;AAAoD,CAA/D,EAAkD,SAAlD,EAAyD,EAAzD;;;EACKA,KAAK,EAAC;;;;EAIgBA,KAAK,EAAC;;;;;SAhB/BE,gCAAuBA,2BAAa,mBAD5CC,oBAqBM,KArBN,cAqBM,CAjBJF,oBAgBM,KAhBN,EAgBM;IAfHD,KAAK,kBAAYI,cAAOC,IAAP,KAAW,WAAX,IAA+BD,cAAOC,IAAP,KAAW,WAA1C,+BAAZ;EAeF,CAhBN,GAOEJ,oBAKM,KALN,cAKM,CAJJK,UAII,EAHJL,oBAEM,KAFN,cAEMM,iBADDL,kBAASA,sBAAT,CACC,IADyB,KAD/B,EAEA,CAFA,CAGI,CALN,GAMWA,2CAAXC,oBAEM,KAFN,cAEM,CADJK,aAA2DC,wBAA3D,EAA2D;IAA3CC,aAAa,EAAER,sBAA4B;IAAZS,GAAG,EAAEC;EAAO,CAA3D,oCACI,CAFN,mCAbF,IAiBI,CArBN","names":["class","_createElementVNode","$options","_createElementBlock","$props","code","_hoisted_3","_toDisplayString","_createVNode","_component_LotSaleButton","unsoldBalance","lot","_ctx"],"sourceRoot":"","sources":["C:\\openserver\\domains\\U190001472_BitumMap_Vue\\src\\components\\views\\trading-session\\lot\\LotDetailSale.vue"],"sourcesContent":["<template>\r\n  <div\r\n    v-if=\"isShowUnsoldBalance && unsoldBalance !== 0\"\r\n    class=\"lot-detail__sale\"\r\n  >\r\n    <div\r\n      :class=\"\r\n        status.code === 'completed' || status.code === 'cancelled'\r\n          ? 'lot-detail__sale-wrap'\r\n          : ''\r\n      \"\r\n    >\r\n      <div class=\"lot-detail__sale-description\">\r\n        <div class=\"lot-detail__sale-description-balance\">Остаток</div>\r\n        <div class=\"lot-detail__sale-description-count-weight\">\r\n          {{ prettify(unsoldBalance) }} т\r\n        </div>\r\n      </div>\r\n      <div v-if=\"isShowSaleButton\" class=\"lot-detail__sale-button-wrap\">\r\n        <LotSaleButton :unsoldBalance=\"unsoldBalance\" :lot=\"lot\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\nimport LotSaleButton from '@/components/views/trading-session/lot/LotSaleButton';\r\n\r\nexport default {\r\n  name: 'LotDetailSale',\r\n  components: { LotSaleButton },\r\n  props: ['status', 'resoldInLot', 'countWeightSale'],\r\n  computed: {\r\n    ...mapState({\r\n      lot: (state) => state.lot.lot,\r\n    }),\r\n    unsoldBalance() {\r\n      if (this.status.code === 'receiving' || this.status.code === 'waiting') {\r\n        return 0;\r\n      }\r\n\r\n      if (this.lot?.weight - this.countWeightSale > 0) {\r\n        return this.lot?.weight - this.countWeightSale;\r\n      }\r\n\r\n      return 0;\r\n    },\r\n    isShowUnsoldBalance() {\r\n      return (\r\n        this.status.code === 'processing' ||\r\n        this.status.code === 'umiop_check' ||\r\n        this.status.code === 'completed' ||\r\n        this.status.code === 'cancelled'\r\n      );\r\n    },\r\n    isShowSaleButton() {\r\n      return (\r\n        this.status.code === 'completed' || this.status.code === 'cancelled'\r\n      );\r\n    },\r\n  },\r\n  methods: {\r\n    prettify(str) {\r\n      try {\r\n        str = String(str);\r\n        return str.replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ');\r\n      } catch (e) {\r\n        console.error('Error in helpers prettify', e);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n"]},"metadata":{},"sourceType":"module"}