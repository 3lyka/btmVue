{"ast":null,"code":"import CalendarMonthDayLotList from '@/components/views/trading-session/calendar/CalendarMonthDayLotList';\nexport default {\n  name: 'CalendarMonthDay',\n  data: () => ({\n    isShowClose: false,\n    defaultShowLots: 2\n  }),\n  emits: ['clickCloseLots'],\n  methods: {\n    closeLots() {\n      this.isShowClose = false;\n    },\n\n    clickShowLots() {\n      this.$emit('clickCloseLots');\n      this.isShowClose = true;\n    },\n\n    lotsPerDay(dateDay) {\n      const lotsPerDay = [];\n\n      for (let i = 0; i < this.lots?.length; i++) {\n        if (this.isDatesMatch(this.lots[i].dateStart, dateDay)) {\n          lotsPerDay.push(this.lots[i]);\n        }\n      }\n\n      return lotsPerDay;\n    },\n\n    isDatesMatch(dateA, dateB) {\n      if (!(dateA instanceof Date)) {\n        dateA = new Date(dateA);\n      }\n\n      if (!(dateB instanceof Date)) {\n        dateB = new Date(dateB);\n      }\n\n      return dateA.toLocaleDateString() === dateB.toLocaleDateString();\n    },\n\n    isFutureDay(date) {\n      const today = new Date();\n      return today < date;\n    }\n\n  },\n  computed: {\n    dayName() {\n      // TODO: ПРОВЕРИТЬ. Вывод дня, сейчас может не выводить корректно.\n      return [...this.daysWeek][this.day.monthKey - 1];\n    }\n\n  },\n  props: {\n    lots: Array,\n    daysWeek: Array,\n    day: Object,\n    dayKey: Number,\n    calendar: Array\n  },\n  components: {\n    CalendarMonthDayLotList\n  }\n};","map":{"version":3,"mappings":"AA+DA,OAAOA,uBAAP,MAAoC,qEAApC;AAEA,eAAe;EACbC,IAAI,EAAE,kBADO;EAEbC,IAAI,EAAE,OAAO;IACXC,WAAW,EAAE,KADF;IAEXC,eAAe,EAAE;EAFN,CAAP,CAFO;EAMbC,KAAK,EAAE,CAAC,gBAAD,CANM;EAObC,OAAO,EAAE;IACPC,SAAS,GAAG;MACV,KAAKJ,WAAL,GAAmB,KAAnB;IACD,CAHM;;IAKPK,aAAa,GAAG;MACd,KAAKC,KAAL,CAAW,gBAAX;MACA,KAAKN,WAAL,GAAmB,IAAnB;IACD,CARM;;IAUPO,UAAU,CAACC,OAAD,EAAU;MAClB,MAAMD,UAAS,GAAI,EAAnB;;MAEA,KAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAI,KAAKC,IAAL,EAAWC,MAA/B,EAAuCF,CAAC,EAAxC,EAA4C;QAC1C,IAAI,KAAKG,YAAL,CAAkB,KAAKF,IAAL,CAAUD,CAAV,EAAaI,SAA/B,EAA0CL,OAA1C,CAAJ,EAAwD;UACtDD,UAAU,CAACO,IAAX,CAAgB,KAAKJ,IAAL,CAAUD,CAAV,CAAhB;QACF;MACF;;MAEA,OAAOF,UAAP;IACD,CApBM;;IAqBPK,YAAY,CAACG,KAAD,EAAQC,KAAR,EAAe;MACzB,IAAI,EAAED,KAAI,YAAaE,IAAnB,CAAJ,EAA8B;QAC5BF,KAAI,GAAI,IAAIE,IAAJ,CAASF,KAAT,CAAR;MACF;;MACA,IAAI,EAAEC,KAAI,YAAaC,IAAnB,CAAJ,EAA8B;QAC5BD,KAAI,GAAI,IAAIC,IAAJ,CAASD,KAAT,CAAR;MACF;;MAEA,OAAOD,KAAK,CAACG,kBAAN,OAA+BF,KAAK,CAACE,kBAAN,EAAtC;IACD,CA9BM;;IA+BPC,WAAW,CAACC,IAAD,EAAO;MAChB,MAAMC,KAAI,GAAI,IAAIJ,IAAJ,EAAd;MAEA,OAAOI,KAAI,GAAID,IAAf;IACD;;EAnCM,CAPI;EA6CbE,QAAQ,EAAE;IACRC,OAAO,GAAG;MACR;MACA,OAAO,CAAC,GAAG,KAAKC,QAAT,EAAmB,KAAKC,GAAL,CAASC,QAAT,GAAoB,CAAvC,CAAP;IACD;;EAJO,CA7CG;EAoDbC,KAAK,EAAE;IACLjB,IAAI,EAAEkB,KADD;IAELJ,QAAQ,EAAEI,KAFL;IAGLH,GAAG,EAAEI,MAHA;IAILC,MAAM,EAAEC,MAJH;IAKLC,QAAQ,EAAEJ;EALL,CApDM;EA2DbK,UAAU,EAAE;IAAEpC;EAAF;AA3DC,CAAf","names":["CalendarMonthDayLotList","name","data","isShowClose","defaultShowLots","emits","methods","closeLots","clickShowLots","$emit","lotsPerDay","dateDay","i","lots","length","isDatesMatch","dateStart","push","dateA","dateB","Date","toLocaleDateString","isFutureDay","date","today","computed","dayName","daysWeek","day","monthKey","props","Array","Object","dayKey","Number","calendar","components"],"sourceRoot":"","sources":["C:\\openserver\\domains\\U190001472_BitumMap_Vue\\src\\components\\views\\trading-session\\calendar\\CalendarMonthDay.vue"],"sourcesContent":["<template>\r\n  <div class=\"calendar__month-item\">\r\n    <div\r\n      class=\"calendar__month-item-wrapper\"\r\n      :class=\"{ 'calendar__month-item-wrapper_modal': isShowClose }\"\r\n    >\r\n      <div\r\n        :class=\"day.current ? 'calendar__month-item_active' : ''\"\r\n        class=\"calendar__month-item-title\"\r\n      >\r\n        <div>\r\n          <p v-if=\"daysWeek[dayKey]\" class=\"calendar__month-item-title-day\">\r\n            {{ daysWeek[dayKey] }}\r\n          </p>\r\n          <!-- TODO: ПРОВЕРИТЬ. Вывод дня, сейчас может не выводить корректно. -->\r\n          <p class=\"calendar__month-item-title-day\">{{ dayName }}</p>\r\n          <p class=\"calendar__month-item-title-number\">\r\n            <span>{{ day.number }}</span>\r\n          </p>\r\n        </div>\r\n        <svg\r\n          class=\"calendar__month-item-close\"\r\n          v-if=\"isShowClose\"\r\n          @click=\"closeLots\"\r\n          width=\"16\"\r\n          height=\"16\"\r\n          viewBox=\"0 0 16 16\"\r\n          fill=\"none\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n        >\r\n          <path\r\n            d=\"M14 2L2 14\"\r\n            stroke=\"#8C99B2\"\r\n            stroke-miterlimit=\"10\"\r\n            stroke-linecap=\"round\"\r\n            stroke-linejoin=\"round\"\r\n          />\r\n          <path\r\n            d=\"M2 2L14 14\"\r\n            stroke=\"#8C99B2\"\r\n            stroke-miterlimit=\"10\"\r\n            stroke-linecap=\"round\"\r\n            stroke-linejoin=\"round\"\r\n          />\r\n        </svg>\r\n      </div>\r\n      <div\r\n        :class=\"{ 'calendar__month-item-wrap_show-all': isShowClose === true }\"\r\n        class=\"calendar__month-item-wrap\"\r\n      >\r\n        <CalendarMonthDayLotList\r\n          @clickShowLots=\"clickShowLots\"\r\n          :lotsPerDay=\"lotsPerDay(day.date)\"\r\n          :defaultShowLots=\"defaultShowLots\"\r\n          :day=\"day\"\r\n          :isShowClose=\"isShowClose\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CalendarMonthDayLotList from '@/components/views/trading-session/calendar/CalendarMonthDayLotList';\r\n\r\nexport default {\r\n  name: 'CalendarMonthDay',\r\n  data: () => ({\r\n    isShowClose: false,\r\n    defaultShowLots: 2,\r\n  }),\r\n  emits: ['clickCloseLots'],\r\n  methods: {\r\n    closeLots() {\r\n      this.isShowClose = false;\r\n    },\r\n\r\n    clickShowLots() {\r\n      this.$emit('clickCloseLots');\r\n      this.isShowClose = true;\r\n    },\r\n\r\n    lotsPerDay(dateDay) {\r\n      const lotsPerDay = [];\r\n\r\n      for (let i = 0; i < this.lots?.length; i++) {\r\n        if (this.isDatesMatch(this.lots[i].dateStart, dateDay)) {\r\n          lotsPerDay.push(this.lots[i]);\r\n        }\r\n      }\r\n\r\n      return lotsPerDay;\r\n    },\r\n    isDatesMatch(dateA, dateB) {\r\n      if (!(dateA instanceof Date)) {\r\n        dateA = new Date(dateA);\r\n      }\r\n      if (!(dateB instanceof Date)) {\r\n        dateB = new Date(dateB);\r\n      }\r\n\r\n      return dateA.toLocaleDateString() === dateB.toLocaleDateString();\r\n    },\r\n    isFutureDay(date) {\r\n      const today = new Date();\r\n\r\n      return today < date;\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    dayName() {\r\n      // TODO: ПРОВЕРИТЬ. Вывод дня, сейчас может не выводить корректно.\r\n      return [...this.daysWeek][this.day.monthKey - 1];\r\n    },\r\n  },\r\n\r\n  props: {\r\n    lots: Array,\r\n    daysWeek: Array,\r\n    day: Object,\r\n    dayKey: Number,\r\n    calendar: Array,\r\n  },\r\n  components: { CalendarMonthDayLotList },\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n"]},"metadata":{},"sourceType":"module"}