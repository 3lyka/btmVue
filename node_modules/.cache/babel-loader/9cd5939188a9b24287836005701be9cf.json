{"ast":null,"code":"import { mapState } from 'vuex';\nimport LotSaleButton from '@/components/views/trading-session/lot/LotSaleButton';\nexport default {\n  name: 'LotDetailSale',\n  components: {\n    LotSaleButton\n  },\n  props: ['status', 'resoldInLot', 'countWeightSale'],\n  computed: { ...mapState({\n      lot: state => state.lot.lot\n    }),\n\n    unsoldBalance() {\n      if (this.status.code === 'receiving' || this.status.code === 'waiting') {\n        return 0;\n      }\n\n      if (this.lot?.weight - this.countWeightSale > 0) {\n        return this.lot?.weight - this.countWeightSale;\n      }\n\n      return 0;\n    },\n\n    isShowUnsoldBalance() {\n      return this.status.code === 'processing' || this.status.code === 'umiop_check' || this.status.code === 'completed' || this.status.code === 'cancelled';\n    },\n\n    isShowSaleButton() {\n      return this.status.code === 'completed' || this.status.code === 'cancelled';\n    }\n\n  },\n  methods: {\n    prettify(str) {\n      try {\n        str = String(str);\n        return str.replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ');\n      } catch (e) {\n        console.error('Error in helpers prettify', e);\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA0BA,SAASA,QAAT,QAAyB,MAAzB;AACA,OAAOC,aAAP,MAA0B,sDAA1B;AAEA,eAAe;EACbC,IAAI,EAAE,eADO;EAEbC,UAAU,EAAE;IAAEF;EAAF,CAFC;EAGbG,KAAK,EAAE,CAAC,QAAD,EAAW,aAAX,EAA0B,iBAA1B,CAHM;EAIbC,QAAQ,EAAE,EACR,GAAGL,QAAQ,CAAC;MACVM,GAAG,EAAGC,KAAD,IAAWA,KAAK,CAACD,GAAN,CAAUA;IADhB,CAAD,CADH;;IAIRE,aAAa,GAAG;MACd,IAAI,KAAKC,MAAL,CAAYC,IAAZ,KAAqB,WAArB,IAAoC,KAAKD,MAAL,CAAYC,IAAZ,KAAqB,SAA7D,EAAwE;QACtE,OAAO,CAAP;MACF;;MAEA,IAAI,KAAKJ,GAAL,EAAUK,MAAV,GAAmB,KAAKC,eAAxB,GAA0C,CAA9C,EAAiD;QAC/C,OAAO,KAAKN,GAAL,EAAUK,MAAV,GAAmB,KAAKC,eAA/B;MACF;;MAEA,OAAO,CAAP;IACD,CAdO;;IAeRC,mBAAmB,GAAG;MACpB,OACE,KAAKJ,MAAL,CAAYC,IAAZ,KAAqB,YAArB,IACA,KAAKD,MAAL,CAAYC,IAAZ,KAAqB,aADrB,IAEA,KAAKD,MAAL,CAAYC,IAAZ,KAAqB,WAFrB,IAGA,KAAKD,MAAL,CAAYC,IAAZ,KAAqB,WAJvB;IAMD,CAtBO;;IAuBRI,gBAAgB,GAAG;MACjB,OACE,KAAKL,MAAL,CAAYC,IAAZ,KAAqB,WAArB,IAAoC,KAAKD,MAAL,CAAYC,IAAZ,KAAqB,WAD3D;IAGD;;EA3BO,CAJG;EAiCbK,OAAO,EAAE;IACPC,QAAQ,CAACC,GAAD,EAAM;MACZ,IAAI;QACFA,GAAE,GAAIC,MAAM,CAACD,GAAD,CAAZ;QACA,OAAOA,GAAG,CAACE,OAAJ,CAAY,6BAAZ,EAA2C,KAA3C,CAAP;MACF,CAHA,CAGE,OAAOC,CAAP,EAAU;QACVC,OAAO,CAACC,KAAR,CAAc,2BAAd,EAA2CF,CAA3C;MACF;IACD;;EARM;AAjCI,CAAf","names":["mapState","LotSaleButton","name","components","props","computed","lot","state","unsoldBalance","status","code","weight","countWeightSale","isShowUnsoldBalance","isShowSaleButton","methods","prettify","str","String","replace","e","console","error"],"sourceRoot":"","sources":["C:\\openserver\\domains\\U190001472_BitumMap_Vue\\src\\components\\views\\trading-session\\lot\\LotDetailSale.vue"],"sourcesContent":["<template>\r\n  <div\r\n    v-if=\"isShowUnsoldBalance && unsoldBalance !== 0\"\r\n    class=\"lot-detail__sale\"\r\n  >\r\n    <div\r\n      :class=\"\r\n        status.code === 'completed' || status.code === 'cancelled'\r\n          ? 'lot-detail__sale-wrap'\r\n          : ''\r\n      \"\r\n    >\r\n      <div class=\"lot-detail__sale-description\">\r\n        <div class=\"lot-detail__sale-description-balance\">Остаток</div>\r\n        <div class=\"lot-detail__sale-description-count-weight\">\r\n          {{ prettify(unsoldBalance) }} т\r\n        </div>\r\n      </div>\r\n      <div v-if=\"isShowSaleButton\" class=\"lot-detail__sale-button-wrap\">\r\n        <LotSaleButton :unsoldBalance=\"unsoldBalance\" :lot=\"lot\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\nimport LotSaleButton from '@/components/views/trading-session/lot/LotSaleButton';\r\n\r\nexport default {\r\n  name: 'LotDetailSale',\r\n  components: { LotSaleButton },\r\n  props: ['status', 'resoldInLot', 'countWeightSale'],\r\n  computed: {\r\n    ...mapState({\r\n      lot: (state) => state.lot.lot,\r\n    }),\r\n    unsoldBalance() {\r\n      if (this.status.code === 'receiving' || this.status.code === 'waiting') {\r\n        return 0;\r\n      }\r\n\r\n      if (this.lot?.weight - this.countWeightSale > 0) {\r\n        return this.lot?.weight - this.countWeightSale;\r\n      }\r\n\r\n      return 0;\r\n    },\r\n    isShowUnsoldBalance() {\r\n      return (\r\n        this.status.code === 'processing' ||\r\n        this.status.code === 'umiop_check' ||\r\n        this.status.code === 'completed' ||\r\n        this.status.code === 'cancelled'\r\n      );\r\n    },\r\n    isShowSaleButton() {\r\n      return (\r\n        this.status.code === 'completed' || this.status.code === 'cancelled'\r\n      );\r\n    },\r\n  },\r\n  methods: {\r\n    prettify(str) {\r\n      try {\r\n        str = String(str);\r\n        return str.replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ');\r\n      } catch (e) {\r\n        console.error('Error in helpers prettify', e);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n"]},"metadata":{},"sourceType":"module"}