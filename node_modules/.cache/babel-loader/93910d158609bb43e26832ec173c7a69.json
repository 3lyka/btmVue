{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nimport _imports_0 from '@/assets/img/oil.svg';\nconst _hoisted_1 = {\n  class: \"calendar__lot-title\"\n};\nconst _hoisted_2 = {\n  class: \"calendar__lot-title-wrapper\"\n};\nconst _hoisted_3 = {\n  class: \"calendar__lot-title-id\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"img\", {\n  class: \"calendar__lot-title-img\",\n  src: _imports_0\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_5 = {\n  class: \"calendar__lot-title-shipment\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"calendar__lot-title-shipment-text\"\n}, \"Отгрузка\", -1\n/* HOISTED */\n);\n\nconst _hoisted_7 = {\n  class: \"calendar__lot-title-shipment-date\"\n};\nconst _hoisted_8 = {\n  class: \"calendar__lot-description\"\n};\nconst _hoisted_9 = {\n  class: \"calendar__lot-description-name\"\n};\nconst _hoisted_10 = {\n  class: \"calendar__lot-description-mark\"\n};\n\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"calendar__lot-description-create\"\n}, \"Выставлено\", -1\n/* HOISTED */\n);\n\nconst _hoisted_12 = {\n  class: \"calendar__lot-description-count-weight\"\n};\nconst _hoisted_13 = {\n  key: 0,\n  class: \"calendar__lot-description-box\"\n};\nconst _hoisted_14 = {\n  class: \"calendar__lot-description-receipt\"\n};\nconst _hoisted_15 = {\n  class: \"calendar__lot-description-receipt-title\"\n};\nconst _hoisted_16 = {\n  class: \"calendar__lot-description-receipt-count-weight\"\n};\nconst _hoisted_17 = {\n  class: \"calendar__lot-description-receipt\"\n};\n\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"calendar__lot-description-receipt-title\"\n}, \" Участников \", -1\n/* HOISTED */\n);\n\nconst _hoisted_19 = {\n  class: \"calendar__lot-description-receipt-count\"\n};\nconst _hoisted_20 = {\n  key: 0,\n  class: \"calendar__lot-sale\"\n};\nconst _hoisted_21 = {\n  class: \"calendar__lot-sale-wrap\"\n};\nconst _hoisted_22 = {\n  class: \"calendar__lot-sale-description\"\n};\n\nconst _hoisted_23 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"calendar__lot-sale-description-balance\"\n}, \"Остаток\", -1\n/* HOISTED */\n);\n\nconst _hoisted_24 = {\n  class: \"calendar__lot-sale-description-count-weight\"\n};\nconst _hoisted_25 = {\n  class: \"calendar__lot-sale-button-wrap\"\n};\nconst _hoisted_26 = {\n  class: \"calendar__lot-info\"\n};\n\nconst _hoisted_27 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"calendar__lot-info-title\"\n}, \"Торги\", -1\n/* HOISTED */\n);\n\nconst _hoisted_28 = {\n  class: \"calendar__lot-info-time\"\n};\nconst _hoisted_29 = {\n  class: \"calendar__lot-info-regions\"\n};\n\nconst _hoisted_30 = /*#__PURE__*/_createTextVNode(\" Регион \");\n\nconst _hoisted_31 = {\n  class: \"calendar__lot-info-region-name\"\n};\nconst _hoisted_32 = {\n  key: 0,\n  class: \"calendar__lot-info-region-price\"\n};\nconst _hoisted_33 = {\n  key: 0,\n  class: \"calendar__lot-comment\"\n};\nconst _hoisted_34 = {\n  key: 0,\n  class: \"calendar__lot-comment-box\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_LotSaleButton = _resolveComponent(\"LotSaleButton\");\n\n  const _component_LotTradingTime = _resolveComponent(\"LotTradingTime\");\n\n  const _component_LotStatus = _resolveComponent(\"LotStatus\");\n\n  const _component_ShowMoreArrowIcon = _resolveComponent(\"ShowMoreArrowIcon\");\n\n  return _openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"calendar__lot\", {\n      calendar__lot_active: $props.isLotSelected\n    }])\n  }, [_createElementVNode(\"div\", {\n    class: \"calendar__lot-wrap\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.openLot && $options.openLot(...args))\n  }, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"p\", _hoisted_3, \"№\" + _toDisplayString($options.prettify($props.lot.id)), 1\n  /* TEXT */\n  ), _hoisted_4]), _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _createElementVNode(\"div\", _hoisted_7, _toDisplayString($props.lot.shippingDate), 1\n  /* TEXT */\n  )])]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, _toDisplayString($props.lot.factory.shortName), 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", _hoisted_10, _toDisplayString($props.lot.product.shortName), 1\n  /* TEXT */\n  ), _hoisted_11, _createElementVNode(\"div\", _hoisted_12, _toDisplayString($options.prettify($props.lot.weight)) + \" т \", 1\n  /* TEXT */\n  ), $options.showDescriptionReceipt ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, _toDisplayString($options.getReceipt.title), 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", _hoisted_16, _toDisplayString($options.prettify($options.getReceipt.weight)) + \" т \", 1\n  /* TEXT */\n  )]), _createElementVNode(\"div\", _hoisted_17, [_hoisted_18, _createElementVNode(\"div\", _hoisted_19, _toDisplayString($props.lot.uniqueCountContactor), 1\n  /* TEXT */\n  )])])) : _createCommentVNode(\"v-if\", true)]), $options.showLotSale ? (_openBlock(), _createElementBlock(\"div\", _hoisted_20, [_createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"div\", _hoisted_22, [_hoisted_23, _createElementVNode(\"div\", _hoisted_24, _toDisplayString($options.prettify($options.getReceipt.remainder)) + \" т \", 1\n  /* TEXT */\n  )]), _createElementVNode(\"div\", _hoisted_25, [_createVNode(_component_LotSaleButton, {\n    unsoldBalance: $options.getReceipt.remainder,\n    lot: $props.lot\n  }, null, 8\n  /* PROPS */\n  , [\"unsoldBalance\", \"lot\"])])])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_26, [_hoisted_27, _createElementVNode(\"div\", _hoisted_28, [_createVNode(_component_LotTradingTime, {\n    dateStart: $props.lot.dateStart,\n    dateEnd: $props.lot.dateEnd\n  }, null, 8\n  /* PROPS */\n  , [\"dateStart\", \"dateEnd\"])]), _createVNode(_component_LotStatus, {\n    typeStatus: 'status',\n    status: $props.lot.status\n  }, null, 8\n  /* PROPS */\n  , [\"status\"])])]), _createCommentVNode(\" todo: переиспользовать для комментария. \"), _createElementVNode(\"div\", _hoisted_29, [$props.lot.regions ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: _normalizeClass([\"calendar__lot-info-title-region\", {\n      'calendar__lot-info-title-region_active': !_ctx.isRegionsHidden\n    }]),\n    onClick: _cache[1] || (_cache[1] = $event => _ctx.isRegionsHidden = !_ctx.isRegionsHidden)\n  }, [_hoisted_30, _createVNode(_component_ShowMoreArrowIcon, {\n    class: \"calendar__lot-info-title-icon\"\n  })], 2\n  /* CLASS */\n  )) : _createCommentVNode(\"v-if\", true), !_ctx.isRegionsHidden ? (_openBlock(true), _createElementBlock(_Fragment, {\n    key: 1\n  }, _renderList($props.lot.regions, (region, index) => {\n    return _openBlock(), _createElementBlock(_Fragment, {\n      key: index\n    }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(region.regionIds, regionItem => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        class: \"calendar__lot-info-region\",\n        key: regionItem.id\n      }, [_createElementVNode(\"span\", _hoisted_31, _toDisplayString(regionItem.name), 1\n      /* TEXT */\n      ), region.priceMin ? (_openBlock(), _createElementBlock(\"span\", _hoisted_32, _toDisplayString($options.prettify(region.priceMin)) + \" ₽ \", 1\n      /* TEXT */\n      )) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" <span class=\\\"calendar__lot-info-region-price calendar__lot-info-region_no-price\\\" v-else>\\r\\n            нет цены\\r\\n          </span> \")]);\n    }), 128\n    /* KEYED_FRAGMENT */\n    ))], 64\n    /* STABLE_FRAGMENT */\n    );\n  }), 128\n  /* KEYED_FRAGMENT */\n  )) : _createCommentVNode(\"v-if\", true)]), $props.lot.comment ? (_openBlock(), _createElementBlock(\"div\", _hoisted_33, [_createElementVNode(\"div\", {\n    onClick: _cache[2] || (_cache[2] = $event => _ctx.isHiddenComment = !_ctx.isHiddenComment),\n    class: _normalizeClass([\"calendar__lot-comment-item\", {\n      'calendar__lot-comment-item_hidden': !_ctx.isHiddenComment\n    }])\n  }, \" Комментарий \", 2\n  /* CLASS */\n  ), _ctx.isHiddenComment === false ? (_openBlock(), _createElementBlock(\"div\", _hoisted_34, _toDisplayString($props.lot.comment), 1\n  /* TEXT */\n  )) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true)], 2\n  /* CLASS */\n  );\n}","map":{"version":3,"mappings":"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","names":["_imports_0","class","_createElementVNode","src","_createElementBlock","calendar__lot_active","$props","onClick","$options","_toDisplayString","id","_hoisted_4","_hoisted_6","shippingDate","factory","shortName","product","_hoisted_11","weight","title","_hoisted_18","uniqueCountContactor","_hoisted_23","remainder","_createVNode","_component_LotSaleButton","unsoldBalance","lot","_hoisted_27","_component_LotTradingTime","dateStart","dateEnd","_component_LotStatus","typeStatus","status","_createCommentVNode","regions","_ctx","_component_ShowMoreArrowIcon","_Fragment","key","_renderList","region","index","regionIds","regionItem","name","priceMin","comment"],"sourceRoot":"","sources":["C:\\openserver\\domains\\U190001472_BitumMap_Vue\\src\\components\\views\\trading-session\\calendar\\CalendarWeekLot.vue"],"sourcesContent":["<template>\r\n  <div class=\"calendar__lot\" :class=\"{ calendar__lot_active: isLotSelected }\">\r\n    <div class=\"calendar__lot-wrap\" @click=\"openLot\">\r\n      <div class=\"calendar__lot-title\">\r\n        <div class=\"calendar__lot-title-wrapper\">\r\n          <p class=\"calendar__lot-title-id\">№{{ prettify(lot.id) }}</p>\r\n          <img class=\"calendar__lot-title-img\" src=\"@/assets/img/oil.svg\" />\r\n        </div>\r\n        <div class=\"calendar__lot-title-shipment\">\r\n          <div class=\"calendar__lot-title-shipment-text\">Отгрузка</div>\r\n          <div class=\"calendar__lot-title-shipment-date\">\r\n            {{ lot.shippingDate }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"calendar__lot-description\">\r\n        <div class=\"calendar__lot-description-name\">\r\n          {{ lot.factory.shortName }}\r\n        </div>\r\n        <div class=\"calendar__lot-description-mark\">\r\n          {{ lot.product.shortName }}\r\n        </div>\r\n        <div class=\"calendar__lot-description-create\">Выставлено</div>\r\n        <div class=\"calendar__lot-description-count-weight\">\r\n          {{ prettify(lot.weight) }} т\r\n        </div>\r\n        <div\r\n          v-if=\"showDescriptionReceipt\"\r\n          class=\"calendar__lot-description-box\"\r\n        >\r\n          <div class=\"calendar__lot-description-receipt\">\r\n            <div class=\"calendar__lot-description-receipt-title\">\r\n              {{ getReceipt.title }}\r\n            </div>\r\n            <div class=\"calendar__lot-description-receipt-count-weight\">\r\n              {{ prettify(getReceipt.weight) }} т\r\n            </div>\r\n          </div>\r\n          <div class=\"calendar__lot-description-receipt\">\r\n            <div class=\"calendar__lot-description-receipt-title\">\r\n              Участников\r\n            </div>\r\n            <div class=\"calendar__lot-description-receipt-count\">\r\n              {{ lot.uniqueCountContactor }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"showLotSale\" class=\"calendar__lot-sale\">\r\n        <div class=\"calendar__lot-sale-wrap\">\r\n          <div class=\"calendar__lot-sale-description\">\r\n            <div class=\"calendar__lot-sale-description-balance\">Остаток</div>\r\n            <div class=\"calendar__lot-sale-description-count-weight\">\r\n              {{ prettify(getReceipt.remainder) }} т\r\n            </div>\r\n          </div>\r\n          <div class=\"calendar__lot-sale-button-wrap\">\r\n            <LotSaleButton :unsoldBalance=\"getReceipt.remainder\" :lot=\"lot\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"calendar__lot-info\">\r\n        <div class=\"calendar__lot-info-title\">Торги</div>\r\n        <div class=\"calendar__lot-info-time\">\r\n          <LotTradingTime :dateStart=\"lot.dateStart\" :dateEnd=\"lot.dateEnd\" />\r\n        </div>\r\n        <LotStatus :typeStatus=\"'status'\" :status=\"lot.status\" />\r\n      </div>\r\n    </div>\r\n\r\n    <!-- todo: переиспользовать для комментария. -->\r\n    <div class=\"calendar__lot-info-regions\">\r\n      <div\r\n        class=\"calendar__lot-info-title-region\"\r\n        :class=\"{ 'calendar__lot-info-title-region_active': !isRegionsHidden }\"\r\n        v-if=\"lot.regions\"\r\n        @click=\"isRegionsHidden = !isRegionsHidden\"\r\n      >\r\n        Регион\r\n        <ShowMoreArrowIcon class=\"calendar__lot-info-title-icon\" />\r\n      </div>\r\n\r\n      <template v-if=\"!isRegionsHidden\">\r\n        <template v-for=\"(region, index) in lot.regions\" :key=\"index\">\r\n          <div\r\n            class=\"calendar__lot-info-region\"\r\n            v-for=\"regionItem in region.regionIds\"\r\n            :key=\"regionItem.id\"\r\n          >\r\n            <span class=\"calendar__lot-info-region-name\">\r\n              {{ regionItem.name }}\r\n            </span>\r\n            <span\r\n              class=\"calendar__lot-info-region-price\"\r\n              v-if=\"region.priceMin\"\r\n            >\r\n              {{ prettify(region.priceMin) }} ₽\r\n            </span>\r\n            <!-- <span class=\"calendar__lot-info-region-price calendar__lot-info-region_no-price\" v-else>\r\n            нет цены\r\n          </span> -->\r\n          </div>\r\n        </template>\r\n      </template>\r\n    </div>\r\n\r\n    <div v-if=\"lot.comment\" class=\"calendar__lot-comment\">\r\n      <div\r\n        v-on:click=\"isHiddenComment = !isHiddenComment\"\r\n        class=\"calendar__lot-comment-item\"\r\n        :class=\"{ 'calendar__lot-comment-item_hidden': !isHiddenComment }\"\r\n      >\r\n        Комментарий\r\n      </div>\r\n      <div v-if=\"isHiddenComment === false\" class=\"calendar__lot-comment-box\">\r\n        {{ lot.comment }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LotTradingTime from '@/components/views/trading-session/lot/LotTradingTime';\r\nimport LotStatus from '@/components/views/trading-session/lot/LotStatus';\r\nimport LotSaleButton from '@/components/views/trading-session/lot/LotSaleButton';\r\nimport ShowMoreArrowIcon from '@/components/components-helpers/icons/ShowMoreArrowIcon.vue';\r\nimport { useUserStore } from '@/stores/user';\r\nimport { mapState as mapStatePinia } from 'pinia';\r\n\r\nexport default {\r\n  props: {\r\n    lot: Object,\r\n    isLotSelected: Boolean,\r\n  },\r\n  data: () => ({\r\n    isHiddenComment: true,\r\n    isRegionsHidden: true,\r\n  }),\r\n  computed: {\r\n    ...mapStatePinia(useUserStore, ['isTrader', 'isUmiop']),\r\n    showDescriptionReceipt() {\r\n      if (this.lot.status.code === 'new') {\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    },\r\n    showLotSale() {\r\n      if (\r\n        this.lot.status.code === 'completed' ||\r\n        this.lot.status.code === 'cancelled'\r\n      ) {\r\n        return true;\r\n      }\r\n\r\n      return false;\r\n    },\r\n    getLotSaleWeight() {\r\n      if (\r\n        this.lot.status.code === 'completed' ||\r\n        this.lot.status.code === 'cancelled'\r\n      ) {\r\n        return true;\r\n      }\r\n\r\n      return false;\r\n    },\r\n    getReceipt() {\r\n      const res = {};\r\n      res.title = 'Распределено';\r\n      if (\r\n        this.lot.status.code === 'completed' ||\r\n        this.lot.status.code === 'cancelled'\r\n      ) {\r\n        res.title = 'Продано';\r\n      }\r\n\r\n      if (\r\n        this.lot.status.code === 'receiving' ||\r\n        this.lot.status.code === 'waiting'\r\n      ) {\r\n        res.weight = 0;\r\n      } else if (this.lot.status.code === 'cancelled') {\r\n        res.weight = 0; //todo уточнить\r\n        res.remainder = this.lot.weight - this.lot.weightSale;\r\n      } else if (this.lot.status.code === 'completed') {\r\n        res.weight = this.lot.weightSale;\r\n        res.remainder = this.lot.weight - this.lot.weightSale;\r\n      } else {\r\n        res.weight = this.lot.weightSale;\r\n      }\r\n\r\n      return res;\r\n    },\r\n  },\r\n  methods: {\r\n    prettify(str) {\r\n      try {\r\n        str = String(str);\r\n        return str.replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ');\r\n      } catch (e) {\r\n        console.error('Error in helpers prettify', e);\r\n      }\r\n    },\r\n    isSaleButtonClicked() {\r\n      return this.$store.state.lot.isSaleButtonClicked;\r\n    },\r\n    openLot: function () {\r\n      if (this.lot.status.code === 'new') {\r\n        this.$store.commit('lot/lotFormEdit', this.lot);\r\n      } else if (!this.isSaleButtonClicked()) {\r\n        this.$store.commit('lot/lotFormClose');\r\n        this.$store.commit('lot/setLot', this.lot);\r\n        this.$router.push('/arm_trading/lot/' + this.lot.id);\r\n      }\r\n    },\r\n  },\r\n  name: 'CalendarWeekLot',\r\n  components: { LotStatus, LotTradingTime, LotSaleButton, ShowMoreArrowIcon },\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n"]},"metadata":{},"sourceType":"module"}