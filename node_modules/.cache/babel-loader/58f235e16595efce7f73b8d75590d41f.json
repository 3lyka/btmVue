{"ast":null,"code":"import CalendarWeekLot from '@/components/views/trading-session/calendar/CalendarWeekLot';\nimport CalendarWeekLotAdd from '@/components/views/trading-session/calendar/CalendarWeekLotAdd';\nimport { useUserStore } from '@/stores/user';\nimport { mapState } from 'vuex';\nimport { mapState as mapStatePinia } from 'pinia';\nexport default {\n  name: 'CalendarWeek',\n  props: {\n    lots: Object,\n    month: Number,\n    year: Number,\n    daysWeek: Array,\n    months: Array,\n    date: Object,\n    calendar: Array,\n    numberWeek: Number\n  },\n\n  data() {\n    return {\n      isScrolled: false\n    };\n  },\n\n  computed: { ...mapState({\n      selectedLotId: state => state.lot.lot.id\n    }),\n    ...mapStatePinia(useUserStore, ['isTrader', 'isUmiop'])\n  },\n  methods: {\n    isDatesMatch(dateA, dateB) {\n      if (!(dateA instanceof Date)) {\n        dateA = new Date(dateA);\n      }\n\n      if (!(dateB instanceof Date)) {\n        dateB = new Date(dateB);\n      }\n\n      return dateA.toLocaleDateString() === dateB.toLocaleDateString();\n    },\n\n    isFutureDay(date) {\n      const today = new Date();\n      return today < date;\n    }\n\n  },\n  components: {\n    CalendarWeekLotAdd,\n    CalendarWeekLot\n  }\n};","map":{"version":3,"mappings":"AAqDA,OAAOA,eAAP,MAA4B,6DAA5B;AACA,OAAOC,kBAAP,MAA+B,gEAA/B;AACA,SAASC,YAAT,QAA6B,eAA7B;AACA,SAASC,QAAT,QAAyB,MAAzB;AACA,SAASA,QAAO,IAAKC,aAArB,QAA0C,OAA1C;AAEA,eAAe;EACbC,IAAI,EAAE,cADO;EAEbC,KAAK,EAAE;IACLC,IAAI,EAAEC,MADD;IAELC,KAAK,EAAEC,MAFF;IAGLC,IAAI,EAAED,MAHD;IAILE,QAAQ,EAAEC,KAJL;IAKLC,MAAM,EAAED,KALH;IAMLE,IAAI,EAAEP,MAND;IAOLQ,QAAQ,EAAEH,KAPL;IAQLI,UAAU,EAAEP;EARP,CAFM;;EAYbQ,IAAI,GAAG;IACL,OAAO;MACLC,UAAU,EAAE;IADP,CAAP;EAGD,CAhBY;;EAiBbC,QAAQ,EAAE,EACR,GAAGjB,QAAQ,CAAC;MACVkB,aAAa,EAAGC,KAAD,IAAWA,KAAK,CAACC,GAAN,CAAUA,GAAV,CAAcC;IAD9B,CAAD,CADH;IAIR,GAAGpB,aAAa,CAACF,YAAD,EAAe,CAAC,UAAD,EAAa,SAAb,CAAf;EAJR,CAjBG;EAuBbuB,OAAO,EAAE;IACPC,YAAY,CAACC,KAAD,EAAQC,KAAR,EAAe;MACzB,IAAI,EAAED,KAAI,YAAaE,IAAnB,CAAJ,EAA8B;QAC5BF,KAAI,GAAI,IAAIE,IAAJ,CAASF,KAAT,CAAR;MACF;;MACA,IAAI,EAAEC,KAAI,YAAaC,IAAnB,CAAJ,EAA8B;QAC5BD,KAAI,GAAI,IAAIC,IAAJ,CAASD,KAAT,CAAR;MACF;;MAEA,OAAOD,KAAK,CAACG,kBAAN,OAA+BF,KAAK,CAACE,kBAAN,EAAtC;IACD,CAVM;;IAWPC,WAAW,CAAChB,IAAD,EAAO;MAChB,MAAMiB,KAAI,GAAI,IAAIH,IAAJ,EAAd;MAEA,OAAOG,KAAI,GAAIjB,IAAf;IACD;;EAfM,CAvBI;EAwCbkB,UAAU,EAAE;IAAEhC,kBAAF;IAAsBD;EAAtB;AAxCC,CAAf","names":["CalendarWeekLot","CalendarWeekLotAdd","useUserStore","mapState","mapStatePinia","name","props","lots","Object","month","Number","year","daysWeek","Array","months","date","calendar","numberWeek","data","isScrolled","computed","selectedLotId","state","lot","id","methods","isDatesMatch","dateA","dateB","Date","toLocaleDateString","isFutureDay","today","components"],"sourceRoot":"","sources":["C:\\openserver\\domains\\U190001472_BitumMap_Vue\\src\\components\\views\\trading-session\\calendar\\CalendarWeek.vue"],"sourcesContent":["<template>\r\n  <ul class=\"calendar__table\">\r\n    <li\r\n      v-for=\"(day, key) in calendar[numberWeek]\"\r\n      :key=\"key\"\r\n      class=\"calendar__item\"\r\n    >\r\n      <ElAffix\r\n        :offset=\"124\"\r\n        :z-index=\"1\"\r\n        @change=\"(state) => (isScrolled = state)\"\r\n        :style=\"isScrolled ? 'height: 43px' : ''\"\r\n      >\r\n        <div\r\n          class=\"calendar__item-title\"\r\n          :class=\"[\r\n            day.current ? 'calendar__item-title_active' : '',\r\n            isScrolled ? 'calendar__item-title_scrolled' : '',\r\n          ]\"\r\n        >\r\n          <div class=\"calendar__item-title-box\">\r\n            <p class=\"calendar__item-title-day\">{{ daysWeek[key] }}</p>\r\n            <p\r\n              class=\"calendar__item-title-number\"\r\n              :class=\"\r\n                !isFutureDay(day.date) && !day.current\r\n                  ? 'calendar__item-title_last'\r\n                  : ''\r\n              \"\r\n            >\r\n              <span>{{ day.number }}</span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </ElAffix>\r\n      <div class=\"calendar__item-box\">\r\n        <CalendarWeekLotAdd\r\n          :day=\"day\"\r\n          v-if=\"(isFutureDay(day.date) || day.current) && isTrader\"\r\n        />\r\n        <template v-for=\"lot in lots\" :key=\"lot.id\">\r\n          <CalendarWeekLot\r\n            v-if=\"isDatesMatch(lot.dateStart, day.date)\"\r\n            :lot=\"lot\"\r\n            :isLotSelected=\"selectedLotId === lot.id\"\r\n          />\r\n        </template>\r\n      </div>\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nimport CalendarWeekLot from '@/components/views/trading-session/calendar/CalendarWeekLot';\r\nimport CalendarWeekLotAdd from '@/components/views/trading-session/calendar/CalendarWeekLotAdd';\r\nimport { useUserStore } from '@/stores/user';\r\nimport { mapState } from 'vuex';\r\nimport { mapState as mapStatePinia } from 'pinia';\r\n\r\nexport default {\r\n  name: 'CalendarWeek',\r\n  props: {\r\n    lots: Object,\r\n    month: Number,\r\n    year: Number,\r\n    daysWeek: Array,\r\n    months: Array,\r\n    date: Object,\r\n    calendar: Array,\r\n    numberWeek: Number,\r\n  },\r\n  data() {\r\n    return {\r\n      isScrolled: false,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      selectedLotId: (state) => state.lot.lot.id,\r\n    }),\r\n    ...mapStatePinia(useUserStore, ['isTrader', 'isUmiop']),\r\n  },\r\n  methods: {\r\n    isDatesMatch(dateA, dateB) {\r\n      if (!(dateA instanceof Date)) {\r\n        dateA = new Date(dateA);\r\n      }\r\n      if (!(dateB instanceof Date)) {\r\n        dateB = new Date(dateB);\r\n      }\r\n\r\n      return dateA.toLocaleDateString() === dateB.toLocaleDateString();\r\n    },\r\n    isFutureDay(date) {\r\n      const today = new Date();\r\n\r\n      return today < date;\r\n    },\r\n  },\r\n  components: { CalendarWeekLotAdd, CalendarWeekLot },\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n"]},"metadata":{},"sourceType":"module"}